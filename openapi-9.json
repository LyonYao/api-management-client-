{"openapi":"3.1.0","info":{"title":"API Management System","description":"Microservice API management and topology visualization system","version":"1.0.0"},"paths":{"/api/v1/auth/login":{"post":{"tags":["auth","auth"],"summary":"用户登录","description":"用户登录接口","operationId":"login_api_v1_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/me":{"get":{"tags":["auth","auth"],"summary":"获取当前用户信息","description":"获取当前登录用户信息","operationId":"get_current_user_api_v1_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/auth/register":{"post":{"tags":["auth","auth"],"summary":"注册新用户","description":"注册新用户接口","operationId":"register_api_v1_auth_register_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string","title":"Username"}},{"name":"password","in":"query","required":true,"schema":{"type":"string","title":"Password"}},{"name":"full_name","in":"query","required":false,"schema":{"type":"string","title":"Full Name"}},{"name":"email","in":"query","required":false,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/apis":{"post":{"tags":["apis"],"summary":"Create Api","description":"创建API","operationId":"create_api_api_v1_apis_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateApiRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["apis"],"summary":"Get Apis","description":"获取API列表","operationId":"get_apis_api_v1_apis_get","parameters":[{"name":"system_id","in":"query","required":false,"schema":{"type":"string","description":"系统ID","title":"System Id"},"description":"系统ID"},{"name":"tags","in":"query","required":false,"schema":{"type":"array","uniqueItems":true,"items":{"type":"string"},"description":"标签列表","title":"Tags"},"description":"标签列表"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApiDTO"},"title":"Response Get Apis Api V1 Apis Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/apis/search":{"get":{"tags":["apis"],"summary":"Search Apis","description":"搜索API","operationId":"search_apis_api_v1_apis_search_get","parameters":[{"name":"systemId","in":"query","required":false,"schema":{"type":"string","description":"系统ID","title":"Systemid"},"description":"系统ID"},{"name":"tags","in":"query","required":false,"schema":{"type":"array","uniqueItems":true,"items":{"type":"string"},"description":"标签列表","title":"Tags"},"description":"标签列表"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApiDTO"},"title":"Response Search Apis Api V1 Apis Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/apis/{api_id}":{"get":{"tags":["apis"],"summary":"Get Api","description":"根据ID获取API","operationId":"get_api_api_v1_apis__api_id__get","parameters":[{"name":"api_id","in":"path","required":true,"schema":{"type":"string","title":"Api Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["apis"],"summary":"Update Api","description":"更新API","operationId":"update_api_api_v1_apis__api_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"api_id","in":"path","required":true,"schema":{"type":"string","title":"Api Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateApiRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["apis"],"summary":"Delete Api","description":"删除API","operationId":"delete_api_api_v1_apis__api_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"api_id","in":"path","required":true,"schema":{"type":"string","title":"Api Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/systems":{"get":{"tags":["systems"],"summary":"Get All Systems","description":"获取所有系统","operationId":"get_all_systems_api_v1_systems_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SystemDTO"},"type":"array","title":"Response Get All Systems Api V1 Systems Get"}}}}}},"post":{"tags":["systems"],"summary":"Create System","description":"创建系统","operationId":"create_system_api_v1_systems_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSystemRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/systems/{system_id}":{"get":{"tags":["systems"],"summary":"Get System","description":"根据ID获取系统","operationId":"get_system_api_v1_systems__system_id__get","parameters":[{"name":"system_id","in":"path","required":true,"schema":{"type":"string","title":"System Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["systems"],"summary":"Update System","description":"更新系统","operationId":"update_system_api_v1_systems__system_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"system_id","in":"path","required":true,"schema":{"type":"string","title":"System Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSystemRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["systems"],"summary":"Delete System","description":"删除系统","operationId":"delete_system_api_v1_systems__system_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"system_id","in":"path","required":true,"schema":{"type":"string","title":"System Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/endpoints":{"get":{"tags":["endpoints"],"summary":"Get All Endpoints","description":"获取所有端点","operationId":"get_all_endpoints_api_v1_endpoints_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/EndpointDTO"},"type":"array","title":"Response Get All Endpoints Api V1 Endpoints Get"}}}}}},"post":{"tags":["endpoints"],"summary":"Create Endpoint","description":"创建端点","operationId":"create_endpoint_api_v1_endpoints_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateEndpointRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EndpointDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/endpoints/api/{api_id}":{"get":{"tags":["endpoints"],"summary":"Get Endpoints By Api","description":"根据API ID获取端点","operationId":"get_endpoints_by_api_api_v1_endpoints_api__api_id__get","parameters":[{"name":"api_id","in":"path","required":true,"schema":{"type":"string","title":"Api Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/EndpointDTO"},"title":"Response Get Endpoints By Api Api V1 Endpoints Api  Api Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/endpoints/{endpoint_id}":{"get":{"tags":["endpoints"],"summary":"Get Endpoint","description":"根据ID获取端点","operationId":"get_endpoint_api_v1_endpoints__endpoint_id__get","parameters":[{"name":"endpoint_id","in":"path","required":true,"schema":{"type":"string","title":"Endpoint Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EndpointDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["endpoints"],"summary":"Update Endpoint","description":"更新端点","operationId":"update_endpoint_api_v1_endpoints__endpoint_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"endpoint_id","in":"path","required":true,"schema":{"type":"string","title":"Endpoint Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateEndpointRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EndpointDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["endpoints"],"summary":"Delete Endpoint","description":"删除端点","operationId":"delete_endpoint_api_v1_endpoints__endpoint_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"endpoint_id","in":"path","required":true,"schema":{"type":"string","title":"Endpoint Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/relationships":{"post":{"tags":["relationships"],"summary":"Create Relationship","description":"创建调用关系","operationId":"create_relationship_api_v1_relationships_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRelationshipRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RelationshipDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["relationships"],"summary":"Get Relationships","description":"获取调用关系列表","operationId":"get_relationships_api_v1_relationships_get","parameters":[{"name":"caller_type","in":"query","required":false,"schema":{"type":"string","title":"Caller Type"}},{"name":"caller_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"Caller Id"}},{"name":"callee_type","in":"query","required":false,"schema":{"type":"string","title":"Callee Type"}},{"name":"callee_id","in":"query","required":false,"schema":{"type":"string","format":"uuid","title":"Callee Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RelationshipDTO"},"title":"Response Get Relationships Api V1 Relationships Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/relationships/{relationship_id}":{"get":{"tags":["relationships"],"summary":"Get Relationship","description":"根据ID获取调用关系","operationId":"get_relationship_api_v1_relationships__relationship_id__get","parameters":[{"name":"relationship_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Relationship Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RelationshipDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["relationships"],"summary":"Update Relationship","description":"更新调用关系","operationId":"update_relationship_api_v1_relationships__relationship_id__put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"relationship_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Relationship Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRelationshipRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RelationshipDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["relationships"],"summary":"Delete Relationship","description":"删除调用关系","operationId":"delete_relationship_api_v1_relationships__relationship_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"relationship_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Relationship Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/health/system/environment":{"post":{"tags":["health"],"summary":"Check System Health With Environment","description":"带环境参数的系统健康检查","operationId":"check_system_health_with_environment_api_v1_health_system_environment_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnvironmentHealthCheckRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchHealthCheckResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/health/results/system/{system_id}":{"get":{"tags":["health"],"summary":"Get System Health Check Results","description":"获取系统的健康检查结果","operationId":"get_system_health_check_results_api_v1_health_results_system__system_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"system_id","in":"path","required":true,"schema":{"type":"string","title":"System Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HealthCheckResultDTO"},"title":"Response Get System Health Check Results Api V1 Health Results System  System Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/health/batches":{"get":{"tags":["health"],"summary":"Get Health Check Batches","description":"获取健康检查批次列表，支持按系统和环境过滤","operationId":"get_health_check_batches_api_v1_health_batches_get","parameters":[{"name":"system_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"系统ID，用于过滤批次列表","title":"System Id"},"description":"系统ID，用于过滤批次列表"},{"name":"environment","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"环境，用于过滤批次列表","title":"Environment"},"description":"环境，用于过滤批次列表"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthCheckBatchListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/health/results/batch/{batch_id}":{"get":{"tags":["health"],"summary":"Get Batch Health Check Results","description":"获取批次的健康检查结果","operationId":"get_batch_health_check_results_api_v1_health_results_batch__batch_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HealthCheckResultDTO"},"title":"Response Get Batch Health Check Results Api V1 Health Results Batch  Batch Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audit":{"get":{"tags":["audit","audit"],"summary":"Get Audit Logs","description":"获取审计日志列表","operationId":"get_audit_logs_api_v1_audit_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"operation_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/OperationType"},{"type":"null"}],"description":"操作类型","title":"Operation Type"},"description":"操作类型"},{"name":"resource_type","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/ResourceType"},{"type":"null"}],"description":"资源类型","title":"Resource Type"},"description":"资源类型"},{"name":"resource_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"资源ID","title":"Resource Id"},"description":"资源ID"},{"name":"user_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"用户ID","title":"User Id"},"description":"用户ID"},{"name":"start_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"开始时间","title":"Start Time"},"description":"开始时间"},{"name":"end_time","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"结束时间","title":"End Time"},"description":"结束时间"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"每页数量","default":10,"title":"Page Size"},"description":"每页数量"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditLogListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audit/{audit_id}":{"get":{"tags":["audit","audit"],"summary":"Get Audit Log","description":"获取单个审计日志","operationId":"get_audit_log_api_v1_audit__audit_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"audit_id","in":"path","required":true,"schema":{"type":"string","title":"Audit Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditLogDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ApiDTO":{"properties":{"id":{"type":"string","title":"Id"},"system_id":{"type":"string","title":"System Id"},"system_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Name"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"api_type":{"$ref":"#/components/schemas/ApiType"},"auth_type":{"anyOf":[{"$ref":"#/components/schemas/AuthType"},{"type":"null"}]},"spec_link":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Spec Link"},"department":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Department"},"contact_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contact Name"},"contact_emails":{"items":{"type":"string"},"type":"array","title":"Contact Emails"},"tags":{"items":{"type":"string"},"type":"array","uniqueItems":true,"title":"Tags"},"dev_host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dev Host"},"uat_host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uat Host"},"prod_host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prod Host"},"health_check_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Health Check Path"},"health_check_rule":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Health Check Rule"},"endpoints":{"items":{"type":"object"},"type":"array","title":"Endpoints"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","system_id","system_name","name","description","api_type","auth_type","spec_link","department","contact_name","contact_emails","tags","dev_host","uat_host","prod_host","health_check_path","health_check_rule","created_at","updated_at"],"title":"ApiDTO","description":"API DTO"},"ApiType":{"type":"string","enum":["P","S","E"],"title":"ApiType","description":"API类型枚举"},"AuditLogDTO":{"properties":{"id":{"type":"string","title":"Id"},"operation_type":{"$ref":"#/components/schemas/OperationType"},"resource_type":{"$ref":"#/components/schemas/ResourceType"},"resource_id":{"type":"string","title":"Resource Id"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"username":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Username"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address"},"before_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Before Data"},"after_data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"After Data"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","operation_type","resource_type","resource_id","created_at"],"title":"AuditLogDTO","description":"审计日志响应模型"},"AuditLogListResponse":{"properties":{"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"items":{"items":{"$ref":"#/components/schemas/AuditLogDTO"},"type":"array","title":"Items"}},"type":"object","required":["total","page","page_size","items"],"title":"AuditLogListResponse","description":"审计日志列表响应模型"},"AuthType":{"type":"string","enum":["NONE","API_KEY","BASIC_AUTH","OAUTH2","JWT"],"title":"AuthType"},"BatchHealthCheckResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id","description":"批次ID"},"results":{"items":{"$ref":"#/components/schemas/HealthCheckResultDTO"},"type":"array","title":"Results","description":"健康检查结果列表"},"total_count":{"type":"integer","title":"Total Count","description":"总检查数量","default":0},"success_count":{"type":"integer","title":"Success Count","description":"成功数量","default":0},"failure_count":{"type":"integer","title":"Failure Count","description":"失败数量","default":0}},"type":"object","title":"BatchHealthCheckResponse","description":"批量健康检查响应"},"CreateApiRequest":{"properties":{"system_id":{"type":"string","title":"System Id","description":"系统ID"},"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"API名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"API描述"},"api_type":{"allOf":[{"$ref":"#/components/schemas/ApiType"}],"description":"API类型","default":"S"},"auth_type":{"anyOf":[{"$ref":"#/components/schemas/AuthType"},{"type":"null"}],"description":"认证类型"},"spec_link":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Spec Link","description":"API文档链接"},"department":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Department","description":"部门"},"contact_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Contact Name","description":"联系人"},"contact_emails":{"items":{"type":"string"},"type":"array","maxItems":10,"minItems":1,"title":"Contact Emails","description":"联系邮箱列表"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array","uniqueItems":true},{"type":"null"}],"title":"Tags","description":"标签列表"},"dev_host":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Dev Host","description":"开发环境Host"},"uat_host":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Uat Host","description":"测试环境Host"},"prod_host":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Prod Host","description":"生产环境Host"},"health_check_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Health Check Path","description":"健康检查路径"},"health_check_rule":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Health Check Rule","description":"健康检查规则"}},"type":"object","required":["system_id","name","contact_emails"],"title":"CreateApiRequest","description":"创建API请求"},"CreateEndpointRequest":{"properties":{"api_id":{"type":"string","title":"Api Id","description":"API ID"},"path":{"type":"string","minLength":1,"title":"Path","description":"端点路径"},"http_method":{"type":"string","title":"Http Method","description":"HTTP方法"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"端点描述"},"status":{"allOf":[{"$ref":"#/components/schemas/EndpointStatus"}],"description":"端点状态","default":"DEVELOPING"},"online_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online Date","description":"上线日期"}},"type":"object","required":["api_id","path","http_method"],"title":"CreateEndpointRequest","description":"创建端点请求"},"CreateRelationshipRequest":{"properties":{"caller_type":{"type":"string","title":"Caller Type","description":"调用方类型"},"caller_id":{"type":"string","title":"Caller Id","description":"调用方ID"},"callee_type":{"type":"string","title":"Callee Type","description":"被调用方类型"},"callee_id":{"type":"string","title":"Callee Id","description":"被调用方ID"},"endpoint_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint Id","description":"端点ID"},"auth_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auth Type","description":"认证类型"},"auth_config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Auth Config","description":"认证配置"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"调用关系描述"}},"type":"object","required":["caller_type","caller_id","callee_type","callee_id"],"title":"CreateRelationshipRequest","description":"创建调用关系请求"},"CreateSystemRequest":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name","description":"系统名称"},"system_code":{"type":"string","maxLength":12,"minLength":5,"title":"System Code","description":"系统唯一编号，5-12位字符"},"description":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Description","description":"系统描述，最多200字"}},"type":"object","required":["name","system_code"],"title":"CreateSystemRequest","description":"创建系统请求"},"EndpointDTO":{"properties":{"id":{"type":"string","title":"Id"},"api_id":{"type":"string","title":"Api Id"},"path":{"type":"string","title":"Path"},"http_method":{"type":"string","title":"Http Method"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"status":{"$ref":"#/components/schemas/EndpointStatus"},"online_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online Date"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","api_id","path","http_method","description","status","online_date","created_at","updated_at"],"title":"EndpointDTO","description":"端点DTO"},"EndpointStatus":{"type":"string","enum":["DEVELOPING","TESTING","ONLINE"],"title":"EndpointStatus","description":"Endpoint状态枚举"},"EnvironmentHealthCheckRequest":{"properties":{"system_id":{"type":"string","title":"System Id","description":"系统ID"},"environment":{"type":"string","title":"Environment","description":"环境类型：dev、uat、prod"}},"type":"object","required":["system_id","environment"],"title":"EnvironmentHealthCheckRequest","description":"带环境参数的健康检查请求"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthCheckBatchDTO":{"properties":{"batch_id":{"type":"string","title":"Batch Id"},"system_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Id"},"environment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Environment"},"total_count":{"type":"integer","title":"Total Count"},"success_count":{"type":"integer","title":"Success Count"},"failure_count":{"type":"integer","title":"Failure Count"},"checked_at":{"type":"string","format":"date-time","title":"Checked At"}},"type":"object","required":["batch_id","system_id","environment","total_count","success_count","failure_count","checked_at"],"title":"HealthCheckBatchDTO","description":"健康检查批次DTO"},"HealthCheckBatchListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/HealthCheckBatchDTO"},"type":"array","title":"Items","description":"健康检查批次列表"},"total":{"type":"integer","title":"Total","description":"总记录数"}},"type":"object","required":["items","total"],"title":"HealthCheckBatchListResponse","description":"健康检查批次列表响应"},"HealthCheckResultDTO":{"properties":{"id":{"type":"string","title":"Id"},"batch_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Id"},"endpoint_id":{"type":"string","title":"Endpoint Id"},"api_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Id"},"system_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Id"},"status":{"type":"string","title":"Status"},"response_code":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Code"},"response_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Time Ms"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"environment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Environment"},"response_body":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Response Body"},"response_headers":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Response Headers"},"request_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Url"},"request_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Details"},"checked_at":{"type":"string","format":"date-time","title":"Checked At"}},"type":"object","required":["id","endpoint_id","status","response_code","response_time_ms","error_message","checked_at"],"title":"HealthCheckResultDTO","description":"健康检查结果DTO"},"LoginRequest":{"properties":{"username":{"type":"string","minLength":1,"title":"Username","description":"用户名"},"password":{"type":"string","minLength":1,"title":"Password","description":"密码"}},"type":"object","required":["username","password"],"title":"LoginRequest","description":"登录请求"},"LoginResponse":{"properties":{"access_token":{"type":"string","title":"Access Token","description":"访问令牌"},"token_type":{"type":"string","title":"Token Type","description":"令牌类型","default":"Bearer"},"expires_in":{"type":"integer","title":"Expires In","description":"过期时间（秒）","default":1800},"user_id":{"type":"string","title":"User Id","description":"用户ID"},"username":{"type":"string","title":"Username","description":"用户名"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name","description":"用户全名"}},"type":"object","required":["access_token","user_id","username"],"title":"LoginResponse","description":"登录响应"},"OperationType":{"type":"string","enum":["CREATE","UPDATE","DELETE"],"title":"OperationType","description":"操作类型枚举"},"RelationshipDTO":{"properties":{"id":{"type":"string","title":"Id"},"caller_type":{"type":"string","title":"Caller Type"},"caller_id":{"type":"string","title":"Caller Id"},"callee_type":{"type":"string","title":"Callee Type"},"callee_id":{"type":"string","title":"Callee Id"},"endpoint_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint Id"},"auth_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auth Type"},"auth_config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Auth Config"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","caller_type","caller_id","callee_type","callee_id","endpoint_id","auth_type","auth_config","description","created_at","updated_at"],"title":"RelationshipDTO","description":"调用关系DTO"},"ResourceType":{"type":"string","enum":["API","SYSTEM","ENDPOINT","RELATIONSHIP","USER"],"title":"ResourceType","description":"资源类型枚举"},"SystemDTO":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"system_code":{"type":"string","title":"System Code"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","name","system_code","description","created_at","updated_at"],"title":"SystemDTO","description":"系统DTO"},"UpdateApiRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name","description":"API名称"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"API描述"},"api_type":{"anyOf":[{"$ref":"#/components/schemas/ApiType"},{"type":"null"}],"description":"API类型"},"auth_type":{"anyOf":[{"$ref":"#/components/schemas/AuthType"},{"type":"null"}],"description":"认证类型"},"spec_link":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Spec Link","description":"API文档链接"},"department":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Department","description":"部门"},"contact_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Contact Name","description":"联系人"},"contact_emails":{"anyOf":[{"items":{"type":"string"},"type":"array","maxItems":10,"minItems":1},{"type":"null"}],"title":"Contact Emails","description":"联系邮箱列表"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array","uniqueItems":true},{"type":"null"}],"title":"Tags","description":"标签列表"},"dev_host":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Dev Host","description":"开发环境Host"},"uat_host":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Uat Host","description":"测试环境Host"},"prod_host":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Prod Host","description":"生产环境Host"},"health_check_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Health Check Path","description":"健康检查路径"},"health_check_rule":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Health Check Rule","description":"健康检查规则"}},"type":"object","title":"UpdateApiRequest","description":"更新API请求"},"UpdateEndpointRequest":{"properties":{"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path","description":"端点路径"},"http_method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Http Method","description":"HTTP方法"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"端点描述"},"status":{"anyOf":[{"$ref":"#/components/schemas/EndpointStatus"},{"type":"null"}],"description":"端点状态"},"online_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Online Date","description":"上线日期"}},"type":"object","title":"UpdateEndpointRequest","description":"更新端点请求"},"UpdateRelationshipRequest":{"properties":{"caller_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caller Type","description":"调用方类型"},"caller_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Caller Id","description":"调用方ID"},"callee_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Callee Type","description":"被调用方类型"},"callee_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Callee Id","description":"被调用方ID"},"endpoint_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Endpoint Id","description":"端点ID"},"auth_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Auth Type","description":"认证类型"},"auth_config":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Auth Config","description":"认证配置"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description","description":"调用关系描述"}},"type":"object","title":"UpdateRelationshipRequest","description":"更新调用关系请求"},"UpdateSystemRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name","description":"系统名称"},"description":{"anyOf":[{"type":"string","maxLength":200},{"type":"null"}],"title":"Description","description":"系统描述，最多200字"}},"type":"object","title":"UpdateSystemRequest","description":"更新系统请求"},"UserDTO":{"properties":{"id":{"type":"string","title":"Id"},"username":{"type":"string","title":"Username"},"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"email":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Email"},"is_active":{"type":"string","title":"Is Active"},"last_login_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Login At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","username","full_name","email","is_active","last_login_at","created_at","updated_at"],"title":"UserDTO","description":"用户DTO"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}